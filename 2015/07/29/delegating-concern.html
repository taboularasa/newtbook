<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <title>Blog Title - delegating-concern</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>
    
    <div id="main" role="main">
      <p>It&rsquo;s was the end of the quarter and we needed to build out some sweet reports to show off awesome widget sales performance. There&rsquo;s going to be all kinds of charts and graphs going on. The good news is we get them all for <a href="http://www.chartjs.org/">free!</a> I only need to provide a suite of API endpoints for Chart.js to load the data from. Having a wide variety of charts and graphs is only part of the equation. If you&rsquo;re going gor <em>maximum</em> impact you&rsquo;re going to need some radical colors to fill up the page. And thats why I created <code>ColorSampler</code>, behold:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class="code"><pre><span class="k">class</span> <span class="nc">ColorSampler</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">hue_collection</span><span class="p">(</span><span class="n">quantity</span><span class="p">:)</span>
    <span class="n">full_range</span> <span class="o">=</span> <span class="mi">360</span>
    <span class="n">steps</span> <span class="o">=</span> <span class="n">full_range</span> <span class="o">/</span> <span class="n">quantity</span>
    <span class="p">[].</span><span class="nf">tap</span> <span class="p">{</span> <span class="o">|</span><span class="n">r</span><span class="o">|</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="nf">.</span><span class="n">full_range</span><span class="p">).</span><span class="nf">step</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span> <span class="n">r</span> <span class="o">&lt;&lt;</span> <span class="n">n</span> <span class="p">}</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">hsl_collection</span><span class="p">(</span><span class="n">quantity</span><span class="p">:,</span> <span class="ss">saturation: </span><span class="mi">50</span><span class="p">,</span> <span class="ss">lightness: </span><span class="mi">50</span><span class="p">)</span>
    <span class="n">hue_collection</span><span class="p">(</span><span class="ss">quantity: </span><span class="n">quantity</span><span class="p">).</span><span class="nf">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">hue</span><span class="o">|</span>
      <span class="s2">"hsl(</span><span class="si">#{</span><span class="n">hue</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">saturation</span><span class="si">}</span><span class="s2">%, </span><span class="si">#{</span><span class="n">lightness</span><span class="si">}</span><span class="s2">%)"</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">adjust_hsl_lightness</span><span class="p">(</span><span class="n">hsl</span><span class="p">:,</span> <span class="ss">lightness: </span><span class="mi">60</span><span class="p">)</span>
    <span class="n">hsl</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/\s\d+%\)/</span><span class="p">,</span> <span class="s2">" </span><span class="si">#{</span><span class="n">lightness</span><span class="si">}</span><span class="s2">%)"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></td></tr></tbody></table>
</div>

    </div>
    
    <aside>
      <h2>Recent Articles</h2>
      <ol>
          <li><a href="delegating-concern.html">delegating-concern</a> <span>Jul 29</span></li>
          <li><a href="../../../2012/01/01/example-article.html">Example Article</a> <span>Jan  1</span></li>
      </ol>

      <h2>Tags</h2>
      <ol>
          <li><a href="../../../tags/example.html">example (1)</a></li>
      </ol>

      <h2>By Year</h2>
      <ol>
          <li><a href="../../../2015.html">2015 (1)</a></li>
          <li><a href="../../../2012.html">2012 (1)</a></li>
      </ol>
    </aside>
  </body>
</html>
